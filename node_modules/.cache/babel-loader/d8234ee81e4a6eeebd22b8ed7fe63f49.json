{"remainingRequest":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/babel-loader/lib/index.js!/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Downloads/LuckyTruck_UI-master/src/components/AccountInfoThankYou.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/src/components/AccountInfoThankYou.vue","mtime":1560865342707},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { API } from '../api.js';\nexport default {\n  name: 'AccountInfoThankYou',\n  props: {\n    progress: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      error: null\n    };\n  },\n  created: function created() {\n    this.$emit('update-progress', this.progress);\n    this.loadCompany();\n  },\n  methods: {\n    download: function download() {\n      window.open(\"\".concat(process.env.VUE_APP_BACKEND_URL, \"/company/pdf\"));\n    },\n    // async download() {\n    //   this.loading = true;\n    //   this.error = null;\n    //   try {\n    //     let data = await API.get('company/pdf', null, {\n    //       responseType: 'blob'\n    //     });\n    //     if (data.status === 'ERROR') {\n    //       this.error = data.messages[0] || data.data;\n    //     } else {\n    //       let blob = new Blob([data], { type: 'application/pdf' });\n    //       let url = window.URL.createObjectURL(blob);\n    //       window.open(url);\n    //     }\n    //   } catch (err) {\n    //     console.error(err);\n    //     this.error = err.message;\n    //   } finally {\n    //     this.loading = false;\n    //   }\n    // },\n    loadCompany: function () {\n      var _loadCompany = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                this.error = null;\n                _context.prev = 2;\n                _context.next = 5;\n                return API.get('company/current');\n\n              case 5:\n                data = _context.sent;\n\n                if (data.status === 'ERROR') {\n                  this.$router.replace({\n                    name: 'Home'\n                  });\n                }\n\n                _context.next = 13;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                console.error(_context.t0);\n                this.error = _context.t0.message;\n\n              case 13:\n                _context.prev = 13;\n                this.loading = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9, 13, 16]]);\n      }));\n\n      function loadCompany() {\n        return _loadCompany.apply(this, arguments);\n      }\n\n      return loadCompany;\n    }()\n  }\n};",{"version":3,"sources":["AccountInfoThankYou.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAAA,GAAA,QAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,KAAA,CAAA,iBAAA,EAAA,KAAA,QAAA;AACA,SAAA,WAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,MAAA,MAAA,CAAA,IAAA,WAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,KAHA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,WA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA,qBAAA,OAAA,GAAA,IAAA;AACA,qBAAA,KAAA,GAAA,IAAA;AA7BA;AAAA;AAAA,uBAgCA,GAAA,CAAA,GAAA,CAAA,iBAAA,CAhCA;;AAAA;AAgCA,gBAAA,IAhCA;;AAkCA,oBAAA,IAAA,CAAA,MAAA,KAAA,OAAA,EAAA;AACA,uBAAA,OAAA,CAAA,OAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA;;AApCA;AAAA;;AAAA;AAAA;AAAA;AAsCA,gBAAA,OAAA,CAAA,KAAA;AACA,qBAAA,KAAA,GAAA,YAAA,OAAA;;AAvCA;AAAA;AAyCA,qBAAA,OAAA,GAAA,KAAA;AAzCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAlBA,CAAA","sourcesContent":["<template>\n  <div class=\"thank-you-form container-fluid mob-2\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title form-sub-title\">Thank You!</h4>\n\n        <p class=\"font-weight-bold\">\n          A rep will call you within 24hrs to discuss. You will receive your\n          first few quotes within 24 hrs, some insurance companies take longer\n          than others, we will make sure to present quotes to you as they come\n          in.\n        </p>\n      </div>\n\n      <div class=\"card-footer\">\n        <form @submit.prevent=\"download\">\n          <div v-if=\"error\" class=\"alert alert-danger\" role=\"alert\">\n            {{ error }}\n          </div>\n\n          <button\n            :disabled=\"loading\"\n            type=\"submit\"\n            class=\"lt-button lt-button-main btn-block\"\n          >\n            {{ loading ? 'Loading...' : 'Download PDF' }}\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API } from '../api.js';\n\nexport default {\n  name: 'AccountInfoThankYou',\n  props: {\n    progress: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      error: null\n    };\n  },\n  created() {\n    this.$emit('update-progress', this.progress);\n    this.loadCompany();\n  },\n  methods: {\n    download() {\n      window.open(`${process.env.VUE_APP_BACKEND_URL}/company/pdf`);\n    },\n    // async download() {\n    //   this.loading = true;\n    //   this.error = null;\n\n    //   try {\n    //     let data = await API.get('company/pdf', null, {\n    //       responseType: 'blob'\n    //     });\n\n    //     if (data.status === 'ERROR') {\n    //       this.error = data.messages[0] || data.data;\n    //     } else {\n    //       let blob = new Blob([data], { type: 'application/pdf' });\n    //       let url = window.URL.createObjectURL(blob);\n    //       window.open(url);\n    //     }\n    //   } catch (err) {\n    //     console.error(err);\n    //     this.error = err.message;\n    //   } finally {\n    //     this.loading = false;\n    //   }\n    // },\n    async loadCompany() {\n      this.loading = true;\n      this.error = null;\n\n      try {\n        let data = await API.get('company/current');\n\n        if (data.status === 'ERROR') {\n          this.$router.replace({ name: 'Home' });\n        }\n      } catch (err) {\n        console.error(err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// div {\n//   outline: 1px solid red;\n// }\n</style>\n"],"sourceRoot":"src/components"}]}