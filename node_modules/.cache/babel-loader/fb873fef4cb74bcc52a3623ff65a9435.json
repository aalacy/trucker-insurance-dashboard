{"remainingRequest":"/Users/admin/Desktop/luckytruck/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/luckytruck/src/api.js","dependencies":[{"path":"/Users/admin/Desktop/luckytruck/src/api.js","mtime":1560145285975},{"path":"/Users/admin/Desktop/luckytruck/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/luckytruck/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/admin/Desktop/luckytruck/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/admin/Desktop/luckytruck/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/admin/Desktop/luckytruck/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/admin/Desktop/luckytruck/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport axios from 'axios';\n\nvar APIService =\n/*#__PURE__*/\nfunction () {\n  function APIService() {\n    _classCallCheck(this, APIService);\n  }\n\n  _createClass(APIService, [{\n    key: \"get\",\n    value: function get(url, params, options) {\n      console.log(\"Stuti\", url, null, params, options);\n      return this.request('GET', url, null, params, options);\n    }\n  }, {\n    key: \"post\",\n    value: function post(url, data, params, options) {\n      console.log(\"Stuti post\", url, null, params, options);\n      return this.request('POST', url, data, params, options);\n    }\n  }, {\n    key: \"formData\",\n    value: function formData(url, data, params, options) {\n      console.log(\"Stuti formdata\", url, null, params, options);\n\n      var formData = this._getFormData(data);\n\n      return this.request('POST', url, formData, params, options);\n    }\n  }, {\n    key: \"put\",\n    value: function put(url, data, params, options) {\n      return this.request('PUT', url, data, params, options);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(url, data, params, options) {\n      return this.request('DELETE', url, data, params, options);\n    }\n  }, {\n    key: \"_getFormData\",\n    value: function _getFormData(dataObj) {\n      var formData = new FormData();\n\n      for (var field in dataObj) {\n        var value = dataObj[field];\n        formData.set(field, value);\n      }\n\n      return formData;\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(method, url, data, params) {\n        var options,\n            config,\n            res,\n            _args = arguments;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 4 && _args[4] !== undefined ? _args[4] : {};\n                config = _objectSpread({\n                  method: method,\n                  url: \"\".concat(process.env.VUE_APP_BACKEND_URL, \"/\").concat(url),\n                  data: data,\n                  params: params,\n                  withCredentials: true,\n                  crossdomain: true\n                }, options);\n                _context.prev = 2;\n                _context.next = 5;\n                return axios(config);\n\n              case 5:\n                res = _context.sent;\n                return _context.abrupt(\"return\", res.data);\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                throw _context.t0;\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 9]]);\n      }));\n\n      function request(_x, _x2, _x3, _x4) {\n        return _request.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }]);\n\n  return APIService;\n}();\n\nexport var API = new APIService();",{"version":3,"sources":["/Users/admin/Desktop/luckytruck/src/api.js"],"names":["axios","APIService","url","params","options","console","log","request","data","formData","_getFormData","dataObj","FormData","field","value","set","method","config","process","env","VUE_APP_BACKEND_URL","withCredentials","crossdomain","res","API"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAEMC,U;;;;;;;;;wBACAC,G,EAAKC,M,EAAQC,O,EAAS;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,GAArB,EAA0B,IAA1B,EAAgCC,MAAhC,EAAwCC,OAAxC;AACA,aAAO,KAAKG,OAAL,CAAa,KAAb,EAAoBL,GAApB,EAAyB,IAAzB,EAA+BC,MAA/B,EAAuCC,OAAvC,CAAP;AACD;;;yBAEIF,G,EAAKM,I,EAAML,M,EAAQC,O,EAAS;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BJ,GAA1B,EAA+B,IAA/B,EAAqCC,MAArC,EAA6CC,OAA7C;AACA,aAAO,KAAKG,OAAL,CAAa,MAAb,EAAqBL,GAArB,EAA0BM,IAA1B,EAAgCL,MAAhC,EAAwCC,OAAxC,CAAP;AACD;;;6BAEQF,G,EAAKM,I,EAAML,M,EAAQC,O,EAAS;AACnCC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BJ,GAA9B,EAAmC,IAAnC,EAAyCC,MAAzC,EAAiDC,OAAjD;;AACA,UAAIK,QAAQ,GAAG,KAAKC,YAAL,CAAkBF,IAAlB,CAAf;;AACA,aAAO,KAAKD,OAAL,CAAa,MAAb,EAAqBL,GAArB,EAA0BO,QAA1B,EAAoCN,MAApC,EAA4CC,OAA5C,CAAP;AACD;;;wBAEGF,G,EAAKM,I,EAAML,M,EAAQC,O,EAAS;AAC9B,aAAO,KAAKG,OAAL,CAAa,KAAb,EAAoBL,GAApB,EAAyBM,IAAzB,EAA+BL,MAA/B,EAAuCC,OAAvC,CAAP;AACD;;;4BAEMF,G,EAAKM,I,EAAML,M,EAAQC,O,EAAS;AACjC,aAAO,KAAKG,OAAL,CAAa,QAAb,EAAuBL,GAAvB,EAA4BM,IAA5B,EAAkCL,MAAlC,EAA0CC,OAA1C,CAAP;AACD;;;iCAEYO,O,EAAS;AACpB,UAAIF,QAAQ,GAAG,IAAIG,QAAJ,EAAf;;AAEA,WAAK,IAAIC,KAAT,IAAkBF,OAAlB,EAA2B;AACzB,YAAIG,KAAK,GAAGH,OAAO,CAACE,KAAD,CAAnB;AAEAJ,QAAAA,QAAQ,CAACM,GAAT,CAAaF,KAAb,EAAoBC,KAApB;AACD;;AAED,aAAOL,QAAP;AACD;;;;;;+CAEaO,M,EAAQd,G,EAAKM,I,EAAML,M;;;;;;;;;AAAQC,gBAAAA,O,2DAAU,E;AAC7Ca,gBAAAA,M;AACFD,kBAAAA,MAAM,EAANA,M;AACAd,kBAAAA,GAAG,YAAKgB,OAAO,CAACC,GAAR,CAAYC,mBAAjB,cAAwClB,GAAxC,C;AACHM,kBAAAA,IAAI,EAAJA,I;AACAL,kBAAAA,MAAM,EAANA,M;AACAkB,kBAAAA,eAAe,EAAE,I;AACjBC,kBAAAA,WAAW,EAAE;mBACVlB,O;;;uBAIeJ,KAAK,CAACiB,MAAD,C;;;AAAjBM,gBAAAA,G;iDACCA,GAAG,CAACf,I;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjB,OAAO,IAAMgB,GAAG,GAAG,IAAIvB,UAAJ,EAAZ","sourcesContent":["import axios from 'axios';\n\nclass APIService {\n  get(url, params, options) {\n    console.log(\"Stuti\", url, null, params, options)\n    return this.request('GET', url, null, params, options);\n  }\n\n  post(url, data, params, options) {\n    console.log(\"Stuti post\", url, null, params, options)\n    return this.request('POST', url, data, params, options);\n  }\n\n  formData(url, data, params, options) {\n    console.log(\"Stuti formdata\", url, null, params, options)\n    let formData = this._getFormData(data);\n    return this.request('POST', url, formData, params, options);\n  }\n\n  put(url, data, params, options) {\n    return this.request('PUT', url, data, params, options);\n  }\n\n  delete(url, data, params, options) {\n    return this.request('DELETE', url, data, params, options);\n  }\n\n  _getFormData(dataObj) {\n    let formData = new FormData();\n\n    for (let field in dataObj) {\n      let value = dataObj[field];\n\n      formData.set(field, value);\n    }\n\n    return formData;\n  }\n\n  async request(method, url, data, params, options = {}) {\n    let config = {\n      method,\n      url: `${process.env.VUE_APP_BACKEND_URL}/${url}`,\n      data,\n      params,\n      withCredentials: true,\n      crossdomain: true,\n      ...options\n    };\n\n    try {\n      const res = await axios(config);\n      return res.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport const API = new APIService();\n"]}]}