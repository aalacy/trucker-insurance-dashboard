{"remainingRequest":"/home/ubuntu/luckytruck/node_modules/babel-loader/lib/index.js!/home/ubuntu/luckytruck/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ubuntu/luckytruck/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/luckytruck/src/components/AccountInfoVehiclesAndTrailersItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/luckytruck/src/components/AccountInfoVehiclesAndTrailersItem.vue","mtime":1561725709698},{"path":"/home/ubuntu/luckytruck/node_modules/cache-loader/dist/cjs.js","mtime":1561725708362},{"path":"/home/ubuntu/luckytruck/node_modules/babel-loader/lib/index.js","mtime":1561725708306},{"path":"/home/ubuntu/luckytruck/node_modules/cache-loader/dist/cjs.js","mtime":1561725708362},{"path":"/home/ubuntu/luckytruck/node_modules/vue-loader/lib/index.js","mtime":1561725709586}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/ubuntu/luckytruck/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/ubuntu/luckytruck/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { validateField as _validateField, validateForm as _validateForm, required, requiredWith } from '../validators.js';\nimport { API } from '../api.js';\nexport default {\n  name: 'AccountInfoVehiclesAndTrailersItem',\n  props: {\n    index: {\n      type: Number,\n      required: true\n    },\n    vehicle: {\n      type: Object,\n      required: false,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      formData: {\n        VIN: '',\n        year: '',\n        make: '',\n        model: '',\n        vehicleType: '',\n        zipCode: '',\n        radiusOfTravel: 50,\n        coverage: false,\n        currentValue: '',\n        deductible: ''\n      },\n      vehicleImage: {\n        img1: \"\",\n        img2: \"\",\n        img3: \"\",\n        img4: \"\",\n        img5: ''\n      },\n      rules: {\n        VIN: [required],\n        year: [required],\n        make: [required],\n        model: [required],\n        vehicleType: [required],\n        zipCode: [required],\n        currentValue: [function (val) {\n          return requiredWith(val, _this.formData.coverage);\n        }],\n        deductible: [function (val) {\n          return requiredWith(val, _this.formData.coverage);\n        }]\n      },\n      formErrors: {},\n      hints: {\n        VIN: 'Some asshint'\n      },\n      deductibles: [{\n        name: '$ 500',\n        value: '500'\n      }, {\n        name: '$ 1000',\n        value: '1000'\n      }, {\n        name: '$ 2500',\n        value: '2500'\n      }, {\n        name: '$ 5000',\n        value: '5000'\n      }],\n      vehicleTypes: ['Auto Hauler', 'Bottom Dump Trailer', 'Bulk Commodity Trailer', 'Concession Trailer', 'Dry Freight Trailer', 'Dump Body Trailer / Transfer Box', 'Flatbed Trailer', 'Gooseneck Trailer', 'Horse Trailer', 'Livestock Trailer', 'Logging Trailer', 'Low-Boy Trailer', 'Pole Trailer', 'Refrigerated Dry Freight Trailer', 'Tank Trailer', 'Tilt Trailer', 'Travel Trailer', 'Utility Trailer', 'Bus', 'Car', 'Cargo Van', 'Hearse', 'Limousine', 'Mini Van', 'Motor Home', 'Passenger Van', 'Pickup Truck', 'Sport Utility Vehicle', 'Truck', 'Emergency Vehicle', 'Military Vehicle'],\n      radiuses: [0, 100, 200, 300, 500, 1000, 'Unlimited'],\n      loading: false,\n      error: null\n    };\n  },\n  computed: {\n    currentValueOfTransport: {\n      get: function get() {\n        return \"$ \".concat(this.formData.currentValue);\n      },\n      set: function set(val) {\n        var price = val // replace dollars and spaces to empty string\n        .replace(/[$\\s]/g, '') // replace all commas to dots\n        .replace(/,/g, '.');\n        this.formData.currentValue = price;\n      }\n    },\n    radiusOfTravel: {\n      get: function get() {\n        var _this2 = this;\n\n        var index = this.radiuses.findIndex(function (radius) {\n          return radius == _this2.formData.radiusOfTravel;\n        });\n        return index > -1 ? index : 1;\n      },\n      set: function set(index) {\n        this.formData.radiusOfTravel = this.radiuses[index];\n      }\n    }\n  },\n  watch: {\n    'formData.coverage': function formDataCoverage(val) {\n      if (!val) {\n        this.formData.currentValue = '';\n        this.formData.deductible = '';\n      }\n    }\n  },\n  created: function created() {\n    this.formData = _objectSpread({}, this.formData, this.vehicle);\n\n    if (!this.formData.VIN) {\n      this.formData.VIN = process.env.VUE_APP_TEST_VIN || '';\n    }\n  },\n  methods: {\n    getFormData: function getFormData() {\n      return this.formData;\n    },\n    removeForm: function removeForm(index) {\n      this.$emit('remove-form', index);\n    },\n    onFocus: function onFocus(fieldName) {\n      this.$emit('update-hint', this.hints[fieldName]);\n    },\n    onBlur: function onBlur() {\n      this.$emit('update-hint', '');\n    },\n    validateField: function validateField(fieldName) {\n      _validateField(fieldName, this.formData, this.rules, this.formErrors);\n    },\n    validateForm: function validateForm() {\n      this.formErrors = {};\n      return _validateForm(this.formData, this.rules, this.formErrors);\n    },\n    getVinData: function () {\n      var _getVinData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.formData.VIN) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return API.get('company/vin', {\n                  vin: this.formData.VIN\n                });\n\n              case 6:\n                data = _context.sent;\n                this.formData = _objectSpread({}, this.formData, data.data);\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](3);\n                console.error(_context.t0);\n                this.error = _context.t0.message;\n\n              case 14:\n                _context.prev = 14;\n                this.loading = false;\n                return _context.finish(14);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 10, 14, 17]]);\n      }));\n\n      function getVinData() {\n        return _getVinData.apply(this, arguments);\n      }\n\n      return getVinData;\n    }()\n  }\n};",null]}