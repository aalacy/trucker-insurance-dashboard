{"remainingRequest":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/raqu/repos/LuckyTruck_UI_Solulab/src/components/CertificatesPast.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/src/components/CertificatesPast.vue","mtime":1571770663143},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from \"moment\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"CertificatesPast\",\n  data() {\n    return {\n      quotes: [\n        {\n          id: 1,\n          title: \"ForAgentsOnly\",\n          policyType: \"Policy Type\",\n          img: \"https://picsum.photos/200\",\n          effectiveDate: \"\",\n          premium: \"\",\n          document: \"\",\n          document_file: \"\"\n        }\n      ],\n      loading: false,\n      error: null,\n      policyId: \"\",\n      status: false\n    };\n  },\n  methods: {\n    openInNewWindow() {\n      window.open(this.quotes[0].document);\n    }\n  },\n  mounted() {\n    // console.log(\"localStorage.getItem(quotation_id)\",localStorage.getItem(\"quotation_id\"));\n\n    // setTimeout(() => {\n      axios\n        .get(\n          \"http://3.13.68.92/luckytrucker_admin/api/CompanyController/getcountofcompanybyuserid?user_id=\" +\n            localStorage.getItem(\"userId\")\n        )\n        .then(res => {\n          console.log(\"res\", res.data.count);\n          // this.count = res.data.count;\n          if (res.data.count >= 10) {\n            this.status = true;\n          } else {\n            this.status = false;\n          }\n        });\n    // }, 500);\n\n    // if (this.status) {\n      axios\n        .get(\n          \"http://3.13.68.92/luckytrucker_admin/api/CompanyController/getpolicycertificate?policy_id=\" +\n            localStorage.getItem(\"policyId\")\n        )\n        .then(res => {\n          console.log(\"res\", res.data);\n          this.quotes[0].effectiveDate = res.data.effective_date;\n          this.quotes[0].premium = res.data.premium;\n          // this.quotes[0].document = res.data.certificate_file;\n          this.quotes[0].document_file = res.data.document_file;\n          // this.policyId = res.data.id;\n        });\n    // }\n  },\n  created() {\n    this.$emit(\"update-hint\", \" \");\n  }\n};\n",{"version":3,"sources":["CertificatesPast.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CertificatesPast.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"policies-review container-fluid\">\n    <div class=\"card mb-5\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title form-sub-title\">Certificates</h4>\n\n        <div v-if=\"loading\">Loading...</div>\n        <div v-if=\"status\">\n          <div v-for=\"item in quotes\" :key=\"item.id\" class=\"mb-2 d-flex\">\n            <div class=\"policy-image-wrapper px-1\">\n              <img :src=\"item.img\" alt class=\"policy-image\">\n            </div>\n\n            <div class=\"policy-info px-3 pt-2\">\n              <div class=\"policy-title\">{{ item.title }}</div>\n\n              <!-- <div class=\"policy-subtitle\">{{ item.policyType }}</div> -->\n\n              <div class=\"policy-subtitle\">\n                Effective Date:\n                <strong>{{ item.effectiveDate }}</strong>\n              </div>\n              <div class=\"policy-subtitle\">\n                Certificate:\n                <!-- <strong>{{ item.document }}</strong> -->\n                <a @click=\"openInNewWindow\">\n                  <strong class=\"clr\">{{ item.document_file }}</strong>\n                </a>\n              </div>\n\n              <div class=\"policy-subtitle\">\n                Mo/Yr Premium:\n                <strong>$ {{ item.premium }}</strong>\n              </div>\n\n              <!-- <div class=\"py-2\">\n              <button type=\"button\" class=\"btn btn-sm btn-primary\" @click=\"requestCertificate\">Request a Certificate</button>\n              </div>-->\n\n              <!-- <div class=\"d-flex small\">\n              <div class=\"px-2\">\n                <a href=\"#\" @click.prevent>View Details</a>\n              </div>\n\n              <div class=\"px-2\">\n                <a href=\"#\" @click.prevent>View Change History</a>\n              </div>-->\n              <!-- </div> -->\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          <span>\n            Your application is complete, we should have an update for you soon. If you have any further questions about this, feel to call us at\n            <a\n              href=\"tel:16469330419\"\n              style=\"font-weight:bold; white-space:nowrap;\"\n            >1-646-933-0419</a>\n          </span>\n        </div>\n\n        <div v-if=\"error\" class=\"alert alert-danger\" role=\"alert\">{{ error }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"CertificatesPast\",\n  data() {\n    return {\n      quotes: [\n        {\n          id: 1,\n          title: \"ForAgentsOnly\",\n          policyType: \"Policy Type\",\n          img: \"https://picsum.photos/200\",\n          effectiveDate: \"\",\n          premium: \"\",\n          document: \"\",\n          document_file: \"\"\n        }\n      ],\n      loading: false,\n      error: null,\n      policyId: \"\",\n      status: false\n    };\n  },\n  methods: {\n    openInNewWindow() {\n      window.open(this.quotes[0].document);\n    }\n  },\n  mounted() {\n    // console.log(\"localStorage.getItem(quotation_id)\",localStorage.getItem(\"quotation_id\"));\n\n    // setTimeout(() => {\n      axios\n        .get(\n          \"http://3.13.68.92/luckytrucker_admin/api/CompanyController/getcountofcompanybyuserid?user_id=\" +\n            localStorage.getItem(\"userId\")\n        )\n        .then(res => {\n          console.log(\"res\", res.data.count);\n          // this.count = res.data.count;\n          if (res.data.count >= 10) {\n            this.status = true;\n          } else {\n            this.status = false;\n          }\n        });\n    // }, 500);\n\n    // if (this.status) {\n      axios\n        .get(\n          \"http://3.13.68.92/luckytrucker_admin/api/CompanyController/getpolicycertificate?policy_id=\" +\n            localStorage.getItem(\"policyId\")\n        )\n        .then(res => {\n          console.log(\"res\", res.data);\n          this.quotes[0].effectiveDate = res.data.effective_date;\n          this.quotes[0].premium = res.data.premium;\n          // this.quotes[0].document = res.data.certificate_file;\n          this.quotes[0].document_file = res.data.document_file;\n          // this.policyId = res.data.id;\n        });\n    // }\n  },\n  created() {\n    this.$emit(\"update-hint\", \" \");\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.policies-review {\n  .policy-image-wrapper {\n    height: 100px;\n    width: 100px;\n    min-width: 100px;\n    max-width: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .policy-image {\n      border-radius: 15px;\n    }\n  }\n\n  .policy-info {\n    .policy-title {\n      font-size: 1.3rem;\n    }\n\n    .policy-subtitle {\n      font-size: 0.8rem;\n    }\n    .clr {\n      color: #007bff;\n      cursor: pointer;\n    }\n  }\n}\n</style>"]}]}