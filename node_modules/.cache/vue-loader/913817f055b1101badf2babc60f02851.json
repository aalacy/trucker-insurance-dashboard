{"remainingRequest":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/raqu/repos/LuckyTruck_UI_Solulab/src/views/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/src/views/SignUp.vue","mtime":1571770663143},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raqu/repos/LuckyTruck_UI_Solulab/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { API } from \"../api.js\";\nimport Vue from \"vue\";\n// Import component\nimport Loading from \"vue-loading-overlay\";\n// Import stylesheet\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n// Init plugin\nVue.use(Loading);\n\nexport default {\n  name: \"SignUpView\",\n  data() {\n    return {\n      loading: false,\n      error: \"\",\n      fullpage: true,\n      showError: false,\n      formData: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n        confirmpassword: \"\",\n        account_status: \"\",\n      }\n    };\n  },\n\n  mounted() {\n    if (localStorage.getItem(\"register_status\") == \"1\") {\n      \n      this.formData.account_status = 1;\n      console.log(\"regi status\",this.formData.account_status );\n    } else {\n      \n      this.formData.account_status = 0;\n      console.log(\"regi status with\",this.formData.account_status );\n    }\n  },\n  methods: {\n    onCancel() {\n      console.log(\"User cancelled the loader.\");\n    },\n    async signup() {\n      let loader = this.$loading.show({\n        // Optional parameters\n        container: this.fullpage ? null : this.$refs.formContainer,\n        canCancel: true,\n        onCancel: this.onCancel,\n        color: \"#5e98f9\",\n        width: 64,\n        height: 64,\n        backgroundColor: \"#ffffff\",\n        opacity: 0.5,\n        zIndex: 999\n      });\n      try {\n        this.loading = true;\n        let data = await API.post(\"users/register\", {\n          firstName: this.formData.firstName,\n          lastName: this.formData.lastName,\n          email: this.formData.email,\n          password: this.formData.password,\n          passwordConfirm: this.formData.confirmpassword,\n          account_status :this.formData.account_status\n          \n        });\n\n        if (data.status === \"ok\") {\n          this.loading = false;\n          console.log(\"data reg\",data);\n          localStorage.setItem(\"token\", data.data.Tokens[0].token);\n          localStorage.setItem(\"userId\",data.data.id);\n          // console.log(\"register data\", data.account_status);\n          loader.hide();\n          this.$swal(\"\", \"You are successfully Registered!\", \"success\");\n          if (data.data.account_status == \"0\") {\n                  this.$router.push({ name: \"Home\" });\n                } else {\n                  this.$router.push({ name: \"AccountInfo\" });\n                }\n                // this.$router.push({ name: \"LogIn\" });\n        } else if (data.status === \"error\") {\n          this.loading = false;\n          loader.hide();\n          this.error = data.message;\n          this.$swal(\"Opps!\", this.error, \"error\");\n          this.showError = true;\n        }\n      } catch (err) {\n        console.error(\"catch aa \", err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n        loader.hide();\n      }\n    }\n  }\n};\n",{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"sign-up-view d-flex align-items-center\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-12 col-sm-10 col-md-8 col-lg-5\">\n          <form class=\"sign-up-form\" @submit.prevent ref=\"formContainer\">\n            <div class=\"form-title\">\n              <div class=\"title welcomefont\">Welcome!</div>\n              <div class=\"form-group\">\n                <router-link\n                  :to=\"{ name: 'Home' }\"\n                  tag=\"button\"\n                  type=\"button\"\n                  class=\"lt-button lt-button-close\"\n                />\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <input\n                v-model=\"formData.firstName\"\n                type=\"text\"\n                class=\"lt-input border border-color\"\n                placeholder=\"First Name\"\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <input\n                v-model=\"formData.lastName\"\n                type=\"text\"\n                class=\"lt-input border border-color\"\n                placeholder=\"Last Name\"\n              >\n            </div>\n            <div class=\"form-group\">\n              <input\n                v-model=\"formData.email\"\n                type=\"text\"\n                class=\"lt-input border border-color\"\n                placeholder=\"Email\"\n              >\n            </div>\n\n            <div class=\"form-group\">\n              <input\n                v-model=\"formData.password\"\n                type=\"password\"\n                class=\"lt-input border border-color\"\n                placeholder=\"Password\"\n              >\n            </div>\n            <div class=\"form-group\">\n              <input\n                v-model=\"formData.confirmpassword\"\n                type=\"password\"\n                class=\"lt-input border border-color\"\n                placeholder=\"Confirm Password\"\n              >\n            </div>\n            <input type=\"hidden\" v-model=\"formData.account_status\">\n            <div class=\"row\">\n              <div class=\"d-flex col-lg-12 d-flex justify-content-center\">\n                <button\n                  type=\"submit\"\n                  class=\"lt-button lt-button-main go-button float-right\"\n                  @click=\"signup\"\n                >Get Started</button>\n              </div>\n            </div>\n            <!-- <div class=\" border-top row align-items-stretch sign-in-with\">\n              <div class=\"col mt-4 text-center\">\n                <div class=\"border-top pt-2 pb-2\">Sign in With</div>\n                <font-awesome-icon\n                  :icon=\"{ prefix: 'fab', iconName: 'facebook-square' }\"\n                  size=\"2x\"\n                  class=\"mr-4 color-fb\"\n                />\n                <font-awesome-icon\n                  :icon=\"{ prefix: 'fab', iconName: 'google' }\"\n                  size=\"2x\"\n                  class=\"color-g\"\n                />\n              </div>\n            </div>-->\n            <div class=\"pt-4 save-hover\">\n            <router-link :to=\"{ name: 'LogIn' }\">\n                <span>Already registered? Login</span>\n              </router-link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API } from \"../api.js\";\nimport Vue from \"vue\";\n// Import component\nimport Loading from \"vue-loading-overlay\";\n// Import stylesheet\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n// Init plugin\nVue.use(Loading);\n\nexport default {\n  name: \"SignUpView\",\n  data() {\n    return {\n      loading: false,\n      error: \"\",\n      fullpage: true,\n      showError: false,\n      formData: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n        confirmpassword: \"\",\n        account_status: \"\",\n      }\n    };\n  },\n\n  mounted() {\n    if (localStorage.getItem(\"register_status\") == \"1\") {\n      \n      this.formData.account_status = 1;\n      console.log(\"regi status\",this.formData.account_status );\n    } else {\n      \n      this.formData.account_status = 0;\n      console.log(\"regi status with\",this.formData.account_status );\n    }\n  },\n  methods: {\n    onCancel() {\n      console.log(\"User cancelled the loader.\");\n    },\n    async signup() {\n      let loader = this.$loading.show({\n        // Optional parameters\n        container: this.fullpage ? null : this.$refs.formContainer,\n        canCancel: true,\n        onCancel: this.onCancel,\n        color: \"#5e98f9\",\n        width: 64,\n        height: 64,\n        backgroundColor: \"#ffffff\",\n        opacity: 0.5,\n        zIndex: 999\n      });\n      try {\n        this.loading = true;\n        let data = await API.post(\"users/register\", {\n          firstName: this.formData.firstName,\n          lastName: this.formData.lastName,\n          email: this.formData.email,\n          password: this.formData.password,\n          passwordConfirm: this.formData.confirmpassword,\n          account_status :this.formData.account_status\n          \n        });\n\n        if (data.status === \"ok\") {\n          this.loading = false;\n          console.log(\"data reg\",data);\n          localStorage.setItem(\"token\", data.data.Tokens[0].token);\n          localStorage.setItem(\"userId\",data.data.id);\n          // console.log(\"register data\", data.account_status);\n          loader.hide();\n          this.$swal(\"\", \"You are successfully Registered!\", \"success\");\n          if (data.data.account_status == \"0\") {\n                  this.$router.push({ name: \"Home\" });\n                } else {\n                  this.$router.push({ name: \"AccountInfo\" });\n                }\n                // this.$router.push({ name: \"LogIn\" });\n        } else if (data.status === \"error\") {\n          this.loading = false;\n          loader.hide();\n          this.error = data.message;\n          this.$swal(\"Opps!\", this.error, \"error\");\n          this.showError = true;\n        }\n      } catch (err) {\n        console.error(\"catch aa \", err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n        loader.hide();\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.border-color {\n  border-color: #eaebec;\n}\ninput::-webkit-input-placeholder {\n  margin-left: 10px;\n  color: #b5bec7;\n}\n.color-fb,\n.color-g {\n  width: 28px;\n  height: auto;\n}\n.color-fb path {\n  fill: #3b5998;\n  font-size: 18px;\n}\n.color-g path {\n  fill: #db3236;\n  font-size: 18px;\n}\n.welcomefont {\n  font-size: 23px;\n}\n.sign-up-view {\n  @include begin-page;\n  background: url(\"../assets/images/bg_home.png\") center center no-repeat\n    transparent;\n\n  .sign-up-form {\n    @include begin-form;\n\n    .go-button {\n      padding-left: 2rem;\n      padding-right: 2rem;\n    }\n  }\n}\n</style>\n"]}]}