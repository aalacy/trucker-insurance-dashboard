{"remainingRequest":"/Users/admin/Desktop/luckytruck/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/luckytruck/src/components/AccountInfoDocumentUpload.vue?vue&type=style&index=0&id=ee946652&lang=scss&scoped=true&","dependencies":[{"path":"/Users/admin/Desktop/luckytruck/src/components/AccountInfoDocumentUpload.vue","mtime":1563011728837},{"path":"/Users/admin/Desktop/luckytruck/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/luckytruck/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/luckytruck/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/luckytruck/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/admin/Desktop/luckytruck/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/luckytruck/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.set-mob .form-group{\n  flex: 0 0 20%;\n      max-width: 20%;\n      text-align: center; \n}\n.image-upload > input {\n  display: none;\n}\n.image-upload img {\n  width: 60px;\n  background-color: #c5c1c1;\n  padding: 10px;\n  border-radius: 6px;\n}\n.account-info-document-upload-form {\n  .label {\n    display: block;\n  }\n   @media screen and (max-width: 639px) {\n   .set-mob .form-group{\n      flex: 0 0 33.333%;\n      max-width: 33.333%;\n    }\n  }\n\n   @media screen and (max-width: 479px) {\n .set-mob .form-group{\n      flex: 0 0 50%;\n      max-width: 50%;\n    }\n  }\n}\n",{"version":3,"sources":["AccountInfoDocumentUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountInfoDocumentUpload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"account-info-document-upload-form container-fluid mob-2\">\n    <form @submit.prevent=\"updateCompany\">\n      <div class=\"card mb-5\">\n        <div class=\"card-body\">\n          <h4 class=\"card-title form-sub-title\">Document Upload</h4>\n         <div class=\"row set-mob\" >\n          <div class=\"form-group\">\n            <div class=\"image-upload\">\n              <label for=\"lossRun\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n              <label for=\"lossRun\" class=\"label\">Loss Run</label>\n              <input\n                id=\"lossRun\"\n                type=\"file\"\n                :class=\"{ 'has-error': formErrors.lossRun }\"\n                @change=\"onFileChange($event, 'lossRun')\"\n              >\n            </div>\n\n           \n          </div>\n\n          <div class=\"form-group\">\n             <div class=\"image-upload\">\n              <label for=\"ifta\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n            <label for=\"ifta\" class=\"label\">IFTA</label>\n\n            <input\n              id=\"ifta\"\n              type=\"file\"\n              :class=\"{ 'has-error': formErrors.ifta }\"\n              @change=\"onFileChange($event, 'ifta')\"\n            >\n             </div>\n          </div>\n\n          <div class=\"form-group\">\n            <div class=\"image-upload\">\n              <label for=\"contracts\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n            <label for=\"contracts\" class=\"label\">Contracts & Sample COI's</label>\n\n            <input\n              id=\"contracts\"\n              type=\"file\"\n              :class=\"{ 'has-error': formErrors.contracts }\"\n              @change=\"onFileChange($event, 'contracts')\"\n            >\n          </div>\n          </div>\n\n          <div class=\"form-group\">\n             <div class=\"image-upload\">\n              <label for=\"declarations\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n            <label for=\"declarations\" class=\"label\">Declarations</label>\n\n            <input\n              id=\"declarations\"\n              type=\"file\"\n              :class=\"{ 'has-error': formErrors.declarations }\"\n              @change=\"onFileChange($event, 'declarations')\"\n            >\n              </div>\n          </div>\n\n          <div class=\"form-group\">\n             <div class=\"image-upload\">\n              <label for=\"rentalLeaseAgreement\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n            <label for=\"rentalLeaseAgreement\" class=\"label\">Rental/Lease Agreements</label>\n\n            <input\n              id=\"rentalLeaseAgreement\"\n              type=\"file\"\n              :class=\"{ 'has-error': formErrors.rentalLeaseAgreement }\"\n              @change=\"onFileChange($event, 'rentalLeaseAgreement')\"\n            >\n              </div>\n          </div>\n\n          <div class=\"form-group\">\n             <div class=\"image-upload\">\n              <label for=\"previouslyCompletedApplications\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n            <label\n              for=\"previouslyCompletedApplications\"\n              class=\"label\"\n            >Previously Completed Applications</label>\n\n            <input\n              id=\"previouslyCompletedApplications\"\n              type=\"file\"\n              :class=\"{\n                'has-error': formErrors.previouslyCompletedApplications\n              }\"\n              @change=\"onFileChange($event, 'previouslyCompletedApplications')\"\n            >\n          </div>\n            </div>\n\n          <div class=\"form-group\">\n             <div class=\"image-upload\">\n              <label for=\"insuranceRequirements\">\n                <img src=\"../assets/images/upload.png\">\n              </label>\n            <label for=\"insuranceRequirements\" class=\"label\">Insurance Requirements</label>\n\n            <input\n              id=\"insuranceRequirements\"\n              type=\"file\"\n              :class=\"{ 'has-error': formErrors.insuranceRequirements }\"\n              @change=\"onFileChange($event, 'insuranceRequirements')\"\n            >\n          </div>\n          </div>\n          \n            </div>\n            \n\n          <div v-if=\"error\" class=\"alert alert-danger\" role=\"alert\">{{ error }}</div>\n        </div>\n\n        <div class=\"card-footer\">\n          <div class=\"form-buttons next-wrapper\">\n            <div class=\"col-6 p-0\">\n              <button\n                :disabled=\"loading\"\n                type=\"button\"\n                class=\"lt-button lt-button-default btn-block btn-border-radius-lb\"\n                @click=\"goPrevForm\"\n              >\n                Prev\n                <div class=\"next-title text-center d-inline pl-3 mob-2\">Underwriting Questions</div>\n              </button>\n            </div>\n\n            <div class=\"col-6 p-0\">\n              <button\n                :disabled=\"loading\"\n                type=\"submit\"\n                class=\"lt-button lt-button-main btn-block btn-border-radius-rb\"\n                 @click=\"goNextForm\"\n              >\n                {{ loading ? 'Loading...' : 'Next' }}\n                <div class=\"next-title text-center d-inline pl-3 mob-2 text-white\">Sign & Complete</div>\n              </button>\n            </div>\n          </div>\n          \n        </div>\n       \n      </div>\n        <div class=\"d-flex justify-content-center m-4\" @click=\"show\" v-if=\"save\">\n            <span class=\"save-hover\">Save & Continue </span>\n            </div>\n            <div v-if=\"showmodel\">\n              <modelLogin/>\n            </div>\n\n    </form>\n  </div>\n</template>\n\n<script>\nimport { API } from \"../api.js\";\nimport ModalLogin from \"./ModalLogin.vue\"\nexport default {\n   components:{\n    \"modelLogin\":ModalLogin\n  },\n  name: \"AccountInfoDocumentUpload\",\n  props: {\n    prevForm: {\n      type: String,\n      required: true\n    },\n    nextForm: {\n      type: String,\n      required: true\n    },\n    progress: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n       showmodel:false,\n        save:true,\n      formData: {\n        lossRun: null,\n        ifta: null,\n        contracts: null,\n        declarations: null,\n        rentalLeaseAgreement: null,\n        previouslyCompletedApplications: null,\n        insuranceRequirements: null,\n        \n      },\n      formErrors: {},\n      loading: false,\n      error: null\n    };\n  },\n  created() {\n    this.$emit(\"update-progress\", this.progress);\n    this.loadCompany();\n  },\n    updated(){\nif(localStorage.getItem(\"showModal\") == \"true\")\n     {\n       this.showmodel = true;\n     }\n     else{\n       this.showmodel = false;\n     }\n },mounted(){\n    if(localStorage.getItem(\"token\")){\n     this.save = false\n   }else{\n     this.save = true\n   }\n },\n  methods: {\n       async show() {\n       this.loading = true;\n      this.error = null;\n\n      try {\n        let data = await API.formData(\"company/upload\", this.formData);\n        if (data.status === \"OK\") {\n          if (this.showmodel) {\n            this.showmodel = false;\n          } else {\n            this.showmodel = true;\n          }\n        } else if (data.status === \"ERROR\") {\n          // this.showmodel = true;\n          this.error = data.messages[0] || data.data;\n        }\n      } catch (err) {\n        // this.showmodel = true;\n\n        console.error(err);\n        this.error = err.message;\n      } finally {\n        // this.showmodel = true;\n        this.loading = false;\n      }\n    \n    },\n    goPrevForm() {\n      this.$emit(\"go-to-form\", this.prevForm);\n    },\n    goNextForm() {\n      this.$emit(\"go-to-form\", this.nextForm);\n    },\n    onFileChange(event, fieldName) {\n      let file = event.target.files[0] || null;\n      this.formData[fieldName] = file;\n    },\n    async loadCompany() {\n      this.loading = true;\n      this.error = null;\n\n      try {\n        let data = await API.get(\"company/current\");\n\n        if (data.status === \"ERROR\") {\n          this.$router.replace({ name: \"Home\" });\n        }\n      } catch (err) {\n        console.error(err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n      }\n    },\n    async updateCompany() {\n      this.loading = true;\n      this.error = null;\n\n      try {\n        let data = await API.formData(\"company/upload\", this.formData);\n\n        if (data.status === \"OK\") {\n          this.goNextForm();\n        } else if (data.status === \"ERROR\") {\n          this.error = data.messages[0] || data.data;\n        }\n      } catch (err) {\n        console.error(err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.set-mob .form-group{\n  flex: 0 0 20%;\n      max-width: 20%;\n      text-align: center; \n}\n.image-upload > input {\n  display: none;\n}\n.image-upload img {\n  width: 60px;\n  background-color: #c5c1c1;\n  padding: 10px;\n  border-radius: 6px;\n}\n.account-info-document-upload-form {\n  .label {\n    display: block;\n  }\n   @media screen and (max-width: 639px) {\n   .set-mob .form-group{\n      flex: 0 0 33.333%;\n      max-width: 33.333%;\n    }\n  }\n\n   @media screen and (max-width: 479px) {\n .set-mob .form-group{\n      flex: 0 0 50%;\n      max-width: 50%;\n    }\n  }\n}\n</style>\n"]}]}