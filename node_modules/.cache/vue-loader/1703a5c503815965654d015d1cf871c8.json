{"remainingRequest":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Downloads/LuckyTruck_UI-master/src/components/AccountInfoThankYou.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/src/components/AccountInfoThankYou.vue","mtime":1560865342707},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Downloads/LuckyTruck_UI-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { API } from '../api.js';\n\nexport default {\n  name: 'AccountInfoThankYou',\n  props: {\n    progress: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      error: null\n    };\n  },\n  created() {\n    this.$emit('update-progress', this.progress);\n    this.loadCompany();\n  },\n  methods: {\n    download() {\n      window.open(`${process.env.VUE_APP_BACKEND_URL}/company/pdf`);\n    },\n    // async download() {\n    //   this.loading = true;\n    //   this.error = null;\n\n    //   try {\n    //     let data = await API.get('company/pdf', null, {\n    //       responseType: 'blob'\n    //     });\n\n    //     if (data.status === 'ERROR') {\n    //       this.error = data.messages[0] || data.data;\n    //     } else {\n    //       let blob = new Blob([data], { type: 'application/pdf' });\n    //       let url = window.URL.createObjectURL(blob);\n    //       window.open(url);\n    //     }\n    //   } catch (err) {\n    //     console.error(err);\n    //     this.error = err.message;\n    //   } finally {\n    //     this.loading = false;\n    //   }\n    // },\n    async loadCompany() {\n      this.loading = true;\n      this.error = null;\n\n      try {\n        let data = await API.get('company/current');\n\n        if (data.status === 'ERROR') {\n          this.$router.replace({ name: 'Home' });\n        }\n      } catch (err) {\n        console.error(err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n",{"version":3,"sources":["AccountInfoThankYou.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountInfoThankYou.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"thank-you-form container-fluid mob-2\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h4 class=\"card-title form-sub-title\">Thank You!</h4>\n\n        <p class=\"font-weight-bold\">\n          A rep will call you within 24hrs to discuss. You will receive your\n          first few quotes within 24 hrs, some insurance companies take longer\n          than others, we will make sure to present quotes to you as they come\n          in.\n        </p>\n      </div>\n\n      <div class=\"card-footer\">\n        <form @submit.prevent=\"download\">\n          <div v-if=\"error\" class=\"alert alert-danger\" role=\"alert\">\n            {{ error }}\n          </div>\n\n          <button\n            :disabled=\"loading\"\n            type=\"submit\"\n            class=\"lt-button lt-button-main btn-block\"\n          >\n            {{ loading ? 'Loading...' : 'Download PDF' }}\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API } from '../api.js';\n\nexport default {\n  name: 'AccountInfoThankYou',\n  props: {\n    progress: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      error: null\n    };\n  },\n  created() {\n    this.$emit('update-progress', this.progress);\n    this.loadCompany();\n  },\n  methods: {\n    download() {\n      window.open(`${process.env.VUE_APP_BACKEND_URL}/company/pdf`);\n    },\n    // async download() {\n    //   this.loading = true;\n    //   this.error = null;\n\n    //   try {\n    //     let data = await API.get('company/pdf', null, {\n    //       responseType: 'blob'\n    //     });\n\n    //     if (data.status === 'ERROR') {\n    //       this.error = data.messages[0] || data.data;\n    //     } else {\n    //       let blob = new Blob([data], { type: 'application/pdf' });\n    //       let url = window.URL.createObjectURL(blob);\n    //       window.open(url);\n    //     }\n    //   } catch (err) {\n    //     console.error(err);\n    //     this.error = err.message;\n    //   } finally {\n    //     this.loading = false;\n    //   }\n    // },\n    async loadCompany() {\n      this.loading = true;\n      this.error = null;\n\n      try {\n        let data = await API.get('company/current');\n\n        if (data.status === 'ERROR') {\n          this.$router.replace({ name: 'Home' });\n        }\n      } catch (err) {\n        console.error(err);\n        this.error = err.message;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// div {\n//   outline: 1px solid red;\n// }\n</style>\n"]}]}