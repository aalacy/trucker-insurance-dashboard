{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-d99b795c\"],{\"02f4\":function(t,r,e){var n=e(\"4588\"),o=e(\"be13\");t.exports=function(t){return function(r,e){var a,i,c=String(o(r)),s=n(e),u=c.length;return s<0||s>=u?t?\"\":void 0:(a=c.charCodeAt(s),a<55296||a>56319||s+1===u||(i=c.charCodeAt(s+1))<56320||i>57343?t?c.charAt(s):a:t?c.slice(s,s+2):i-56320+(a-55296<<10)+65536)}}},\"0390\":function(t,r,e){\"use strict\";var n=e(\"02f4\")(!0);t.exports=function(t,r,e){return r+(e?n(t,r).length:1)}},\"0bfb\":function(t,r,e){\"use strict\";var n=e(\"cb7c\");t.exports=function(){var t=n(this),r=\"\";return t.global&&(r+=\"g\"),t.ignoreCase&&(r+=\"i\"),t.multiline&&(r+=\"m\"),t.unicode&&(r+=\"u\"),t.sticky&&(r+=\"y\"),r}},\"214f\":function(t,r,e){\"use strict\";e(\"b0c5\");var n=e(\"2aba\"),o=e(\"32e9\"),a=e(\"79e5\"),i=e(\"be13\"),c=e(\"2b4c\"),s=e(\"520a\"),u=c(\"species\"),l=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}),f=function(){var t=/(?:)/,r=t.exec;t.exec=function(){return r.apply(this,arguments)};var e=\"ab\".split(t);return 2===e.length&&\"a\"===e[0]&&\"b\"===e[1]}();t.exports=function(t,r,e){var d=c(t),v=!a(function(){var r={};return r[d]=function(){return 7},7!=\"\"[t](r)}),p=v?!a(function(){var r=!1,e=/a/;return e.exec=function(){return r=!0,null},\"split\"===t&&(e.constructor={},e.constructor[u]=function(){return e}),e[d](\"\"),!r}):void 0;if(!v||!p||\"replace\"===t&&!l||\"split\"===t&&!f){var m=/./[d],h=e(i,d,\"\"[t],function(t,r,e,n,o){return r.exec===s?v&&!o?{done:!0,value:m.call(r,e,n)}:{done:!0,value:t.call(e,r,n)}:{done:!1}}),b=h[0],g=h[1];n(String.prototype,t,b),o(RegExp.prototype,d,2==r?function(t,r){return g.call(t,this,r)}:function(t){return g.call(t,this)})}}},\"230e\":function(t,r,e){var n=e(\"d3f4\"),o=e(\"7726\").document,a=n(o)&&n(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},2366:function(t,r){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);function o(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],\"-\",o[t[n++]],o[t[n++]],\"-\",o[t[n++]],o[t[n++]],\"-\",o[t[n++]],o[t[n++]],\"-\",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join(\"\")}t.exports=o},\"23c6\":function(t,r,e){var n=e(\"2d95\"),o=e(\"2b4c\")(\"toStringTag\"),a=\"Arguments\"==n(function(){return arguments}()),i=function(t,r){try{return t[r]}catch(e){}};t.exports=function(t){var r,e,c;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(e=i(r=Object(t),o))?e:a?n(r):\"Object\"==(c=n(r))&&\"function\"==typeof r.callee?\"Arguments\":c}},\"2aba\":function(t,r,e){var n=e(\"7726\"),o=e(\"32e9\"),a=e(\"69a8\"),i=e(\"ca5a\")(\"src\"),c=e(\"fa5b\"),s=\"toString\",u=(\"\"+c).split(s);e(\"8378\").inspectSource=function(t){return c.call(t)},(t.exports=function(t,r,e,c){var s=\"function\"==typeof e;s&&(a(e,\"name\")||o(e,\"name\",r)),t[r]!==e&&(s&&(a(e,i)||o(e,i,t[r]?\"\"+t[r]:u.join(String(r)))),t===n?t[r]=e:c?t[r]?t[r]=e:o(t,r,e):(delete t[r],o(t,r,e)))})(Function.prototype,s,function(){return\"function\"==typeof this&&this[i]||c.call(this)})},\"2b4c\":function(t,r,e){var n=e(\"5537\")(\"wks\"),o=e(\"ca5a\"),a=e(\"7726\").Symbol,i=\"function\"==typeof a,c=t.exports=function(t){return n[t]||(n[t]=i&&a[t]||(i?a:o)(\"Symbol.\"+t))};c.store=n},\"2d00\":function(t,r){t.exports=!1},\"2d95\":function(t,r){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},\"32e9\":function(t,r,e){var n=e(\"86cc\"),o=e(\"4630\");t.exports=e(\"9e1e\")?function(t,r,e){return n.f(t,r,o(1,e))}:function(t,r,e){return t[r]=e,t}},4588:function(t,r){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},4630:function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},\"4bf8\":function(t,r,e){var n=e(\"be13\");t.exports=function(t){return Object(n(t))}},\"520a\":function(t,r,e){\"use strict\";var n=e(\"0bfb\"),o=RegExp.prototype.exec,a=String.prototype.replace,i=o,c=\"lastIndex\",s=function(){var t=/a/,r=/b*/g;return o.call(t,\"a\"),o.call(r,\"a\"),0!==t[c]||0!==r[c]}(),u=void 0!==/()??/.exec(\"\")[1],l=s||u;l&&(i=function(t){var r,e,i,l,f=this;return u&&(e=new RegExp(\"^\"+f.source+\"$(?!\\\\s)\",n.call(f))),s&&(r=f[c]),i=o.call(f,t),s&&i&&(f[c]=f.global?i.index+i[0].length:r),u&&i&&i.length>1&&a.call(i[0],e,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(i[l]=void 0)}),i}),t.exports=i},5537:function(t,r,e){var n=e(\"8378\"),o=e(\"7726\"),a=\"__core-js_shared__\",i=o[a]||(o[a]={});(t.exports=function(t,r){return i[t]||(i[t]=void 0!==r?r:{})})(\"versions\",[]).push({version:n.version,mode:e(\"2d00\")?\"pure\":\"global\",copyright:\"Â© 2019 Denis Pushkarev (zloirock.ru)\"})},\"5ca1\":function(t,r,e){var n=e(\"7726\"),o=e(\"8378\"),a=e(\"32e9\"),i=e(\"2aba\"),c=e(\"9b43\"),s=\"prototype\",u=function(t,r,e){var l,f,d,v,p=t&u.F,m=t&u.G,h=t&u.S,b=t&u.P,g=t&u.B,y=m?n:h?n[r]||(n[r]={}):(n[r]||{})[s],x=m?o:o[r]||(o[r]={}),w=x[s]||(x[s]={});for(l in m&&(e=r),e)f=!p&&y&&void 0!==y[l],d=(f?y:e)[l],v=g&&f?c(d,n):b&&\"function\"==typeof d?c(Function.call,d):d,y&&i(y,l,d,t&u.U),x[l]!=d&&a(x,l,v),b&&w[l]!=d&&(w[l]=d)};n.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},\"5f1b\":function(t,r,e){\"use strict\";var n=e(\"23c6\"),o=RegExp.prototype.exec;t.exports=function(t,r){var e=t.exec;if(\"function\"===typeof e){var a=e.call(t,r);if(\"object\"!==typeof a)throw new TypeError(\"RegExp exec method returned something other than an Object or null\");return a}if(\"RegExp\"!==n(t))throw new TypeError(\"RegExp#exec called on incompatible receiver\");return o.call(t,r)}},\"69a8\":function(t,r){var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},\"6a99\":function(t,r,e){var n=e(\"d3f4\");t.exports=function(t,r){if(!n(t))return t;var e,o;if(r&&\"function\"==typeof(e=t.toString)&&!n(o=e.call(t)))return o;if(\"function\"==typeof(e=t.valueOf)&&!n(o=e.call(t)))return o;if(!r&&\"function\"==typeof(e=t.toString)&&!n(o=e.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},7726:function(t,r){var e=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=e)},\"79e5\":function(t,r){t.exports=function(t){try{return!!t()}catch(r){return!0}}},8378:function(t,r){var e=t.exports={version:\"2.6.9\"};\"number\"==typeof __e&&(__e=e)},\"86cc\":function(t,r,e){var n=e(\"cb7c\"),o=e(\"c69a\"),a=e(\"6a99\"),i=Object.defineProperty;r.f=e(\"9e1e\")?Object.defineProperty:function(t,r,e){if(n(t),r=a(r,!0),n(e),o)try{return i(t,r,e)}catch(c){}if(\"get\"in e||\"set\"in e)throw TypeError(\"Accessors not supported!\");return\"value\"in e&&(t[r]=e.value),t}},\"9b43\":function(t,r,e){var n=e(\"d8e8\");t.exports=function(t,r,e){if(n(t),void 0===r)return t;switch(e){case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,o){return t.call(r,e,n,o)}}return function(){return t.apply(r,arguments)}}},\"9def\":function(t,r,e){var n=e(\"4588\"),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},\"9e1e\":function(t,r,e){t.exports=!e(\"79e5\")(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},a481:function(t,r,e){\"use strict\";var n=e(\"cb7c\"),o=e(\"4bf8\"),a=e(\"9def\"),i=e(\"4588\"),c=e(\"0390\"),s=e(\"5f1b\"),u=Math.max,l=Math.min,f=Math.floor,d=/\\$([$&`']|\\d\\d?|<[^>]*>)/g,v=/\\$([$&`']|\\d\\d?)/g,p=function(t){return void 0===t?t:String(t)};e(\"214f\")(\"replace\",2,function(t,r,e,m){return[function(n,o){var a=t(this),i=void 0==n?void 0:n[r];return void 0!==i?i.call(n,a,o):e.call(String(a),n,o)},function(t,r){var o=m(e,t,this,r);if(o.done)return o.value;var f=n(t),d=String(this),v=\"function\"===typeof r;v||(r=String(r));var b=f.global;if(b){var g=f.unicode;f.lastIndex=0}var y=[];while(1){var x=s(f,d);if(null===x)break;if(y.push(x),!b)break;var w=String(x[0]);\"\"===w&&(f.lastIndex=c(d,a(f.lastIndex),g))}for(var O=\"\",_=0,C=0;C<y.length;C++){x=y[C];for(var D=String(x[0]),F=u(l(i(x.index),d.length),0),I=[],S=1;S<x.length;S++)I.push(p(x[S]));var j=x.groups;if(v){var k=[D].concat(I,F,d);void 0!==j&&k.push(j);var $=String(r.apply(void 0,k))}else $=h(D,d,F,I,j,r);F>=_&&(O+=d.slice(_,F)+$,_=F+D.length)}return O+d.slice(_)}];function h(t,r,n,a,i,c){var s=n+t.length,u=a.length,l=v;return void 0!==i&&(i=o(i),l=d),e.call(c,l,function(e,o){var c;switch(o.charAt(0)){case\"$\":return\"$\";case\"&\":return t;case\"`\":return r.slice(0,n);case\"'\":return r.slice(s);case\"<\":c=i[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>u){var d=f(l/10);return 0===d?e:d<=u?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):e}c=a[l-1]}return void 0===c?\"\":c})}})},b0c5:function(t,r,e){\"use strict\";var n=e(\"520a\");e(\"5ca1\")({target:\"RegExp\",proto:!0,forced:n!==/./.exec},{exec:n})},be13:function(t,r){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},c64e:function(t,r,e){var n=e(\"e1f4\"),o=e(\"2366\");function a(t,r,e){var a=r&&e||0;\"string\"==typeof t&&(r=\"binary\"===t?new Array(16):null,t=null),t=t||{};var i=t.random||(t.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r)for(var c=0;c<16;++c)r[a+c]=i[c];return r||o(i)}t.exports=a},c69a:function(t,r,e){t.exports=!e(\"9e1e\")&&!e(\"79e5\")(function(){return 7!=Object.defineProperty(e(\"230e\")(\"div\"),\"a\",{get:function(){return 7}}).a})},ca5a:function(t,r){var e=0,n=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++e+n).toString(36))}},cb7c:function(t,r,e){var n=e(\"d3f4\");t.exports=function(t){if(!n(t))throw TypeError(t+\" is not an object!\");return t}},cc2e:function(t,r,e){\"use strict\";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e(\"div\",{staticClass:\"drivers-form container-fluid mob-2\"},[e(\"form\",{on:{submit:function(r){return r.preventDefault(),t.updateCompany(r)}}},[e(\"div\",{staticClass:\"card mb-5\"},[e(\"div\",{staticClass:\"card-body\"},[e(\"h4\",{staticClass:\"card-title form-sub-title\"},[t._v(\"Owner(s)\")]),e(\"div\",{staticClass:\"d-flex\"},[e(\"div\",{staticClass:\"pr-3\"},[t._v(\"Are one of the drivers the owner?\")]),e(\"div\",{staticClass:\"flex-grow-1\"},[e(\"label\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.formData.driverIsOwner,expression:\"formData.driverIsOwner\"}],attrs:{type:\"checkbox\"},domProps:{checked:Array.isArray(t.formData.driverIsOwner)?t._i(t.formData.driverIsOwner,null)>-1:t.formData.driverIsOwner},on:{change:function(r){var e=t.formData.driverIsOwner,n=r.target,o=!!n.checked;if(Array.isArray(e)){var a=null,i=t._i(e,a);n.checked?i<0&&t.$set(t.formData,\"driverIsOwner\",e.concat([a])):i>-1&&t.$set(t.formData,\"driverIsOwner\",e.slice(0,i).concat(e.slice(i+1)))}else t.$set(t.formData,\"driverIsOwner\",o)}}}),t._v(\" Yes\\n            \")])])]),t.formData.driverIsOwner?e(\"div\",{staticClass:\"col-12 col-md-6\"},[e(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.formData.driverOwnerIndex,expression:\"formData.driverOwnerIndex\"}],staticClass:\"lt-input\",on:{change:function(r){var e=Array.prototype.filter.call(r.target.options,function(t){return t.selected}).map(function(t){var r=\"_value\"in t?t._value:t.value;return r});t.$set(t.formData,\"driverOwnerIndex\",r.target.multiple?e:e[0])}}},[e(\"option\",{attrs:{value:\"\",disabled:\"\"}},[t._v(\"\\n              Select Driver\\n            \")]),t._l(t.drivers,function(r,n){return e(\"option\",{key:n,domProps:{value:n}},[t._v(\"\\n              \"+t._s(r.firstName)+\" \"+t._s(r.lastName)+\"\\n            \")])})],2)]):t._e(),e(\"hr\"),t._l(t.formData.owners,function(r,n){return e(\"account-info-owners-item\",{key:r._uuid,ref:\"ownerForm\",refInFor:!0,staticClass:\"mb-5\",attrs:{index:n,owner:r},on:{\"update-hint\":t.updateHint,\"remove-form\":t.removeForm}})}),e(\"hr\"),e(\"div\",{staticClass:\"row align-items-center mb-3\"},[e(\"div\",{staticClass:\"col font-weight-bold\"},[t._v(\"\\n            Add another owner\\n          \")]),e(\"div\",{staticClass:\"col-auto text-right\"},[e(\"button\",{staticClass:\"lt-button px-3\",attrs:{type:\"button\"},on:{click:t.addForm}},[t._v(\"\\n              +\\n            \")])])]),t.error?e(\"div\",{staticClass:\"alert alert-danger\",attrs:{role:\"alert\"}},[t._v(\"\\n          \"+t._s(t.error)+\"\\n        \")]):t._e()],2),e(\"div\",{staticClass:\"card-footer\"},[e(\"div\",{staticClass:\"form-buttons next-wrapper\"},[e(\"div\",{staticClass:\"col-6 p-0\"},[e(\"button\",{staticClass:\"lt-button lt-button-default px-4 btn-block btn-border-radius-lb mob-2\",attrs:{disabled:t.loading,type:\"button\"},on:{click:t.goPrevForm}},[t._v(\"\\n              Prev\\n              \"),e(\"div\",{staticClass:\"next-title text-center d-inline pl-3 mob-2\"},[t._v(\"\\n                Drivers\\n              \")])])]),e(\"div\",{staticClass:\"col-6 p-0\"},[e(\"button\",{staticClass:\"lt-button lt-button-main px-4 btn-block btn-border-radius-rb mob-2\",attrs:{disabled:t.loading,type:\"submit\"}},[t._v(\"\\n              \"+t._s(t.loading?\"Loading...\":\"Next\")+\"\\n              \"),e(\"div\",{staticClass:\"next-title text-center d-inline pl-3 text-white mob-2\"},[t._v(\"\\n                Underwriting Questions\\n              \")])])])])])])])])},o=[],a=(e(\"a481\"),e(\"be94\")),i=e(\"1da1\"),c=e(\"c64e\"),s=e.n(c),u=e(\"d722\"),l={name:\"AccountInfoOwners\",components:{AccountInfoOwnersItem:()=>e.e(\"chunk-02b5a70d\").then(e.bind(null,\"11b9\"))},props:{prevForm:{type:String,required:!0},nextForm:{type:String,required:!0},progress:{type:Number,required:!0}},data(){return{formData:{driverIsOwner:!1,driverOwnerIndex:-1,owners:[]},drivers:[],loading:!1,error:null}},computed:{noOwners(){return-1===this.formData.driverOwnerIndex&&!this.formData.owners.length}},watch:{\"formData.driverIsOwner\"(t){t||(this.formData.driverOwnerIndex=-1)},noOwners(t){this.error=t?\"Please add at least one owner\":null}},created(){this.$emit(\"update-progress\",this.progress),this.loadCompany()},methods:{addForm(){this.formData.owners.push({_uuid:s()()}),this.error=null},removeForm(t){this.formData.owners.splice(t,1)},updateHint(t){this.$emit(\"update-hint\",t)},goPrevForm(){this.$emit(\"go-to-form\",this.prevForm)},goNextForm(){this.$emit(\"go-to-form\",this.nextForm)},loadCompany(){var t=this;return Object(i[\"a\"])(function*(){t.loading=!0,t.error=null;try{let e=yield u[\"a\"].get(\"company/current\");if(\"OK\"===e.status){let r=e.data,n=r.drivers,o=r.owners;if(n&&(t.drivers=n),o){let r=o.owners;t.formData=Object(a[\"a\"])({},t.formData,o,{owners:r.map(t=>Object(a[\"a\"])({},t,{_uuid:s()()}))})}else t.addForm()}else\"ERROR\"===e.status&&t.$router.replace({name:\"Home\"})}catch(r){console.error(r),t.error=r.message}finally{t.loading=!1}})()},setDataFromForms(){let t=[];this.$refs.ownerForm&&this.$refs.ownerForm.forEach(r=>{let e=r.getFormData();t.push(e)}),this.formData.owners=t},updateCompany(){var t=this;return Object(i[\"a\"])(function*(){if(t.formData.driverIsOwner&&-1===t.formData.driverOwnerIndex&&(t.formData.driverIsOwner=!1),t.setDataFromForms(),t.noOwners)return;let r=!t.$refs.ownerForm||t.$refs.ownerForm.every(t=>t.validateForm());if(r){t.loading=!0,t.error=null;try{let r=yield u[\"a\"].post(\"company/save\",{key:\"owners\",val:Object(a[\"a\"])({},t.formData,{owners:t.formData.owners.map(t=>{let r=Object(a[\"a\"])({},t);return delete r._uuid,r})})});\"OK\"===r.status?t.goNextForm():\"ERROR\"===r.status&&(t.error=r.messages[0]||r.data)}catch(e){console.error(e),t.error=e.message}finally{t.loading=!1}}})()}}},f=l,d=e(\"2877\"),v=Object(d[\"a\"])(f,n,o,!1,null,\"3a110649\",null);r[\"default\"]=v.exports},d3f4:function(t,r){t.exports=function(t){return\"object\"===typeof t?null!==t:\"function\"===typeof t}},d8e8:function(t,r){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},e1f4:function(t,r){var e=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,r=0;r<16;r++)0===(3&r)&&(t=4294967296*Math.random()),o[r]=t>>>((3&r)<<3)&255;return o}}},fa5b:function(t,r,e){t.exports=e(\"5537\")(\"native-function-to-string\",Function.toString)}}]);","extractedComments":[]}